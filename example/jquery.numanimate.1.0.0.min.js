(function(a){a.fn.numanimate=function(b){var d=a.extend({},a.fn.numanimate.options,b);var h=b&&b.isCurrency!=null;var f=b&&b.from!=null;return this.each(function(){d.element=a(this);if(!h){d.isCurrency=e(d.to)}if(!f){d.from=g(d.element)}d.from=a.numanimate._convertCurrencyToNumber(d.from);d.to=a.numanimate._convertCurrencyToNumber(d.to);if(!d.decimals){d.decimals=c(d.to)}a.numanimate._animate(d)});function e(i){var j=false;if(String(i).indexOf("$")!=-1){j=true}return j}function c(k){var i=0;if(!isNaN(k)){var j=String(k);var l=j.indexOf(".");if(l!=-1){i=j.substring(l+1).length}}return i}function g(j){var i=a.numanimate._isFormElement(j);var k=i?a(j).val():a(j).text();return k}};a.fn.numanimate.options={element:null,time:1000,easing:"swing",from:0,to:100,decimals:0,isCurrency:false,format:null,step:null,complete:null}})(jQuery);jQuery.extend({numanimate:{NUMANIMATE_PROPERTY:"numanimate",FORM_ELEMENTS:["input","textarea"],_animate:function(b){var a=this;var d={};d[this.NUMANIMATE_PROPERTY]=b.from;var c={};c[this.NUMANIMATE_PROPERTY]=b.to;$(d).animate(c,{duration:b.time,easing:b.easing,step:function(){var e=this[a.NUMANIMATE_PROPERTY];var g=$.numanimate._createNumberString(e,b.decimals);var f=g;if(b.isCurrency){f=$.numanimate._convertNumberToCurrency(e)}if(b.format){f=b.format(e);if(f==null){throw Error("jQuery.numanimate 'format' function needs to return a formatted string.")}}if(b.step){b.step(f)}if(b.element){$.numanimate._displayValue(b.element,f)}},complete:function(){var e=$.numanimate._convertCurrencyToNumber(b.to);if(b.isCurrency){formatted=$.numanimate._convertNumberToCurrency(e)}else{formatted=$.numanimate._createNumberString(e,b.decimals)}if(b.format){formatted=b.format(e);if(formatted==null){throw Error("jQuery.numanimate 'format' function needs to return a formatted string.")}}if(b.complete){b.complete(formatted)}if(b.element){$.numanimate._displayValue(b.element,formatted)}}})},_createNumberString:function(e,a){var b=String(e);if(a==0){b=String(Math.round(e))}else{e=Math.round(e*Math.pow(10,a))/Math.pow(10,a);b=String(e);var f=b.indexOf(".");if(f==-1){b+=".";f=b.length-1}var d=b.substring(f+1);if(d.length<a){for(var c=0;c<a-d.length;c++){b+="0"}}}return b},_convertCurrencyToNumber:function(b){var c=isNaN(b)?0:b;if(!c){b=String(b);var a=b.indexOf("(")!=-1;b=b.replace("$","");b=b.replace(/[(),]/g,"");if(!isNaN(b)){c=Number(b)}if(a){c*=-1}}return c},_convertNumberToCurrency:function(e){if(isNaN(e)){return"$0.00"}e=Math.round(e*100)/100;var c=e-Math.floor(e);e=Math.floor(e);var b=e<0;var a="$"+String(e).replace(/\-/g,"").split("").reverse().join("").replace(/(.{3}\B)/g,"$1,").split("").reverse().join("");if(c>0){var d=String(Math.round(c*100));a+="."+(d.length==1?"0":"")+d}if(a.indexOf(".")==-1){a+=".00"}if(b){a="("+a+")"}return a},_displayValue:function(b,c){var a=this._isFormElement(b);a?$(b).val(c):$(b).html(c)},_isFormElement:function(c){var a=false;for(var b in this.FORM_ELEMENTS){if($(c).is(this.FORM_ELEMENTS[b])){a=true;break}}return a},setDefaults:function(a){var b=$.extend({},$.fn.numanimate.options,a);$.fn.numanimate.options=b}}});